<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="Station.MainWindow"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:Microsoft.UI.Xaml.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="Trạm Nghĩa Đô - Hệ thống giám sát xâm nhập">

    <Window.SystemBackdrop>
        <MicaBackdrop />
    </Window.SystemBackdrop>

    <Grid Background="{ThemeResource BackgroundSecondaryBrush}">
        <controls:NavigationView x:Name="NavView"
          PaneTitle="Station"
      IsSettingsVisible="True"
         IsBackButtonVisible="Collapsed"
            IsPaneToggleButtonVisible="True"
     IsPaneOpen="True"
        SelectionChanged="NavView_SelectionChanged"
         PaneDisplayMode="Left"
   OpenPaneLength="240"
 CompactModeThresholdWidth="640"
             ExpandedModeThresholdWidth="1280"
        Background="Transparent">

      <!-- NavigationView Resources - Now theme-aware via Colors.xaml -->
    <controls:NavigationView.Resources>
         <!-- Pane Border - Keep as hardcoded value (not a color) -->
         <Thickness x:Key="NavigationViewContentGridBorderThickness">1,0,0,0</Thickness>
     </controls:NavigationView.Resources>

            <!-- Theme Toggle Button in PaneCustomContent -->
      <controls:NavigationView.PaneCustomContent>
    <StackPanel Orientation="Horizontal" Spacing="8" Margin="16,8">
               <!-- Theme Toggle Button -->
         <Button x:Name="ThemeToggleButton"
     Click="ThemeToggleButton_Click"
      Width="40"
       Height="40"
         CornerRadius="8"
            Background="Transparent"
        BorderThickness="1"
       BorderBrush="{ThemeResource BorderLightBrush}"
           ToolTipService.ToolTip="Chuyển đổi chế độ sáng/tối">
           <Grid>
            <!-- Moon Icon for Light Mode (click to go dark) -->
           <FontIcon x:Name="MoonIcon"
          Glyph="&#xE708;"
            FontSize="16"
       Foreground="{ThemeResource TextPrimaryBrush}"
          Visibility="Visible"/>
      <!-- Sun Icon for Dark Mode (click to go light) -->
       <FontIcon x:Name="SunIcon"
  Glyph="&#xE706;"
     FontSize="16"
       Foreground="{ThemeResource TextPrimaryBrush}"
          Visibility="Collapsed"/>
    </Grid>
         </Button>
        </StackPanel>
            </controls:NavigationView.PaneCustomContent>

            <controls:NavigationView.MenuItems>
 <controls:NavigationViewItem Content="Dashboard" Tag="Dashboard" IsSelected="True">
    <controls:NavigationViewItem.Icon>
<FontIcon Glyph="&#xE80F;" FontFamily="Segoe MDL2 Assets"/>
     </controls:NavigationViewItem.Icon>
       </controls:NavigationViewItem>

       <controls:NavigationViewItem Content="Giám sát 4K" Tag="MonitoringDashboard">
         <controls:NavigationViewItem.Icon>
       <FontIcon Glyph="&#xE7F4;" FontFamily="Segoe MDL2 Assets"/>
          </controls:NavigationViewItem.Icon>
       </controls:NavigationViewItem>

 <controls:NavigationViewItem Content="Thiết bị" Tag="Devices">
  <controls:NavigationViewItem.Icon>
         <FontIcon Glyph="&#xE957;" FontFamily="Segoe MDL2 Assets"/>
    </controls:NavigationViewItem.Icon>
       </controls:NavigationViewItem>

       <controls:NavigationViewItem Content="Video Trực tiếp" Tag="LiveVideo">
    <controls:NavigationViewItem.Icon>
   <FontIcon Glyph="&#xE714;" FontFamily="Segoe MDL2 Assets"/>
          </controls:NavigationViewItem.Icon>
      </controls:NavigationViewItem>

 <controls:NavigationViewItem Content="Cảnh báo" Tag="Alerts">
        <controls:NavigationViewItem.Icon>
             <FontIcon Glyph="&#xE7BA;" FontFamily="Segoe MDL2 Assets"/>
        </controls:NavigationViewItem.Icon>
 </controls:NavigationViewItem>

 <controls:NavigationViewItem Content="Dữ liệu" Tag="Data">
                    <controls:NavigationViewItem.Icon>
        <FontIcon Glyph="&#xE9D9;" FontFamily="Segoe MDL2 Assets"/>
   </controls:NavigationViewItem.Icon>
       </controls:NavigationViewItem>

     <controls:NavigationViewItem Content="Map" Tag="Map">
           <controls:NavigationViewItem.Icon>
          <FontIcon Glyph="&#xE707;" FontFamily="Segoe MDL2 Assets"/>
         </controls:NavigationViewItem.Icon>
      </controls:NavigationViewItem>

            <controls:NavigationViewItemSeparator/>

         <controls:NavigationViewItem Content="Cấu hình" Tag="Configuration">
        <controls:NavigationViewItem.Icon>
                 <FontIcon Glyph="&#xE713;" FontFamily="Segoe MDL2 Assets"/>
      </controls:NavigationViewItem.Icon>
          </controls:NavigationViewItem>
            </controls:NavigationView.MenuItems>

   <controls:NavigationView.PaneFooter>
     <Border Background="{ThemeResource BackgroundAccentBrush}"
        CornerRadius="{StaticResource CornerRadiusMedium}"
           Padding="16,12"
                 Margin="12,0,12,12"
    BorderBrush="{ThemeResource BorderSecondaryBrush}"
         BorderThickness="1">
                    <StackPanel Spacing="6">
    <StackPanel Orientation="Horizontal" Spacing="8">
          <FontIcon Glyph="&#xE81E;"
   FontSize="14"
  Foreground="{ThemeResource PrimaryDarkBrush}"/>
       <TextBlock Text="Thông tin trạm"
       FontSize="11"
        FontWeight="SemiBold"
           Foreground="{ThemeResource PrimaryDarkBrush}"/>
       </StackPanel>

     <TextBlock x:Name="StationNameText"
       Text="TRM-HN-001"
   FontWeight="SemiBold"
              FontSize="13"
  Foreground="{ThemeResource TextPrimaryBrush}"
      TextWrapping="Wrap"/>

     <TextBlock x:Name="StationAreaText"
      Text="Khu vực: Miền Bắc"
          FontSize="11"
    Foreground="{ThemeResource TextSecondaryBrush}"
     TextWrapping="Wrap"/>

          <!-- Connection Status Indicator -->
     <Border Background="{ThemeResource SeverityLowLightBrush}"
      CornerRadius="4"
          Padding="8,4"
        Margin="0,4,0,0">
             <StackPanel Orientation="Horizontal" Spacing="6">
            <Ellipse Width="6" Height="6"
     Fill="{ThemeResource SeverityLowBrush}"/>
   <TextBlock Text="Đã kết nối"
       FontSize="10"
  Foreground="{ThemeResource SeverityLowBrush}"/>
        </StackPanel>
       </Border>
        </StackPanel>
          </Border>
            </controls:NavigationView.PaneFooter>

    <Frame x:Name="ContentFrame"
     Background="{ThemeResource BackgroundSecondaryBrush}"/>
     </controls:NavigationView>
    </Grid>
</Window>
