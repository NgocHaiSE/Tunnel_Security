<Page
    x:Class="Station.Views.MonitoringDashboardPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:viewmodels="using:Station.ViewModels"
    xmlns:lvc="using:LiveChartsCore.SkiaSharpView.WinUI"
    xmlns:controls="using:Microsoft.UI.Xaml.Controls"
    mc:Ignorable="d"
    Background="{StaticResource BackgroundSecondaryBrush}">

    <Page.DataContext>
        <viewmodels:MonitoringDashboardViewModel/>
    </Page.DataContext>

    <Grid Padding="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Grid Grid.Row="0" Margin="0,0,0,16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- Station Name and Status -->
            <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="16" VerticalAlignment="Center">
                <TextBlock Text="TRM-HN-001"
                           FontFamily="Segoe UI Variable"
                           FontSize="16"
                           FontWeight="SemiBold"
                           Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                <Border Background="#1E7B4B"
                        CornerRadius="12"
                        Padding="8,4">
                    <StackPanel Orientation="Horizontal" Spacing="6">
                        <Ellipse Width="8" Height="8" Fill="#22C55E"/>
                        <TextBlock Text="ÄÃ£ káº¿t ná»‘i"
                                   FontSize="12"
                                   Foreground="White"/>
                    </StackPanel>
                </Border>
                <TextBlock Text="Khu vá»±c: Miá»n Báº¯c"
                           FontSize="14"
                           Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                           VerticalAlignment="Center"/>
            </StackPanel>

            <!-- Center - Station Name -->
            <TextBlock Grid.Column="1"
                       Text="Tráº¡m NghÄ©a ÄÃ´"
                       FontFamily="Segoe UI Variable"
                       FontSize="24"
                       FontWeight="SemiBold"
                       Foreground="{StaticResource MonitoringTextPrimaryBrush}"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"/>

            <!-- Right - Time, User, Settings -->
            <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="20" VerticalAlignment="Center">
                <TextBlock FontSize="16"
                           FontWeight="SemiBold"
                           Foreground="{StaticResource MonitoringTextPrimaryBrush}"
                           VerticalAlignment="Center">
                    <Run Text="{x:Bind ViewModel.CurrentDate, Mode=OneWay}"/>
                    <Run Text="  "/>
                    <Run Text="{x:Bind ViewModel.CurrentTime, Mode=OneWay}"/>
                </TextBlock>
                <TextBlock Text="Admin"
                           FontSize="14"
                           Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                           VerticalAlignment="Center"/>
                <Button x:Name="ThemeToggleButton"
                        Click="ThemeToggleButton_Click"
                        Background="Transparent"
                        BorderThickness="0"
                        Padding="8"
                        ToolTipService.ToolTip="Chuyá»ƒn Ä‘á»•i cháº¿ Ä‘á»™ sÃ¡ng/tá»‘i"
                        VerticalAlignment="Center">
                    <Grid>
                        <FontIcon x:Name="MoonIcon"
                                  Glyph="&#xE708;"
                                  FontSize="20"
                                  Foreground="{StaticResource MonitoringTextPrimaryBrush}"
                                  Visibility="Visible"/>
                        <FontIcon x:Name="SunIcon"
                                  Glyph="&#xE706;"
                                  FontSize="20"
                                  Foreground="{StaticResource MonitoringTextPrimaryBrush}"
                                  Visibility="Collapsed"/>
                    </Grid>
                </Button>
                <Button x:Name="ConfigurationButton"
                        Click="ConfigurationButton_Click"
                        Background="Transparent"
                        BorderThickness="0"
                        Padding="8"
                        ToolTipService.ToolTip="Cáº¥u hÃ¬nh"
                        VerticalAlignment="Center">
                    <FontIcon Glyph="&#xE713;"
                              FontSize="20"
                              Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                </Button>
            </StackPanel>
        </Grid>

        <!-- Main Content -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="250"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="280"/>
            </Grid.ColumnDefinitions>

            <!-- Right Panel - Trend Analysis & Relay Stations -->
            <Border Grid.Column="2"
                    Background="{StaticResource MonitoringPanelBackgroundBrush}"
                    CornerRadius="8"
                    Padding="16"
                    Margin="8,0,0,0">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="8"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Trend Analysis Panel -->
                    <Grid Grid.Row="0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!-- Header -->
                        <Grid Grid.Row="0" Margin="0,0,0,12">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon Glyph="&#xE9D9;" FontSize="16" Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                                <TextBlock Text="PhÃ¢n tÃ­ch xu hÆ°á»›ng"
                                           FontSize="16"
                                           FontWeight="SemiBold"
                                           Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                            </StackPanel>

                            <Button x:Name="TrendPanelMenuButton"
                                    Click="DataPanelMenuButton_Click"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    Padding="8"
                                    HorizontalAlignment="Right"
                                    ToolTipService.ToolTip="Má»Ÿ cá»­a sá»• phÃ¢n tÃ­ch">
                                <FontIcon Glyph="&#xE700;"
                                          FontSize="16"
                                          Foreground="{StaticResource MonitoringTextSecondaryBrush}"/>
                            </Button>
                        </Grid>

                        <!-- Time Filter Buttons -->
                        <StackPanel Grid.Row="1" Orientation="Horizontal" Spacing="8" Margin="0,0,0,12" HorizontalAlignment="Center">
                            <Button Content="24H"
                                    x:Name="Filter24HButton"
                                    Click="TimeFilter_Click"
                                    Tag="24H"
                                    Background="{StaticResource MonitoringAccentButtonBrush}"
                                    Foreground="White"
                                    FontSize="11"
                                    Padding="12,4"
                                    CornerRadius="4"
                                    BorderThickness="0"/>
                            <Button Content="7 NgÃ y"
                                    x:Name="Filter7DButton"
                                    Click="TimeFilter_Click"
                                    Tag="7D"
                                    Background="Transparent"
                                    Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                    FontSize="11"
                                    Padding="12,4"
                                    CornerRadius="4"
                                    BorderBrush="{StaticResource MonitoringBorderBrush}"
                                    BorderThickness="1"/>
                            <Button Content="30 NgÃ y"
                                    x:Name="Filter30DButton"
                                    Click="TimeFilter_Click"
                                    Tag="30D"
                                    Background="Transparent"
                                    Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                    FontSize="11"
                                    Padding="12,4"
                                    CornerRadius="4"
                                    BorderBrush="{StaticResource MonitoringBorderBrush}"
                                    BorderThickness="1"/>
                        </StackPanel>

                        <!-- Trend Chart -->
                        <Border Grid.Row="2"
                                Background="{StaticResource MonitoringBackgroundBrush}"
                                CornerRadius="8"
                                Padding="12">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <!-- Chart Area -->
                                <Grid Grid.Row="0">
                                    <!-- Y-Axis Labels -->
                                    <StackPanel VerticalAlignment="Stretch" HorizontalAlignment="Left" Width="30">
                                        <TextBlock Text="60" FontSize="9" Foreground="{StaticResource MonitoringTextSecondaryBrush}" Margin="0,0,0,0"/>
                                        <TextBlock Text="45" FontSize="9" Foreground="{StaticResource MonitoringTextSecondaryBrush}" Margin="0,30,0,0"/>
                                        <TextBlock Text="30" FontSize="9" Foreground="{StaticResource MonitoringTextSecondaryBrush}" Margin="0,30,0,0"/>
                                        <TextBlock Text="15" FontSize="9" Foreground="{StaticResource MonitoringTextSecondaryBrush}" Margin="0,30,0,0"/>
                                        <TextBlock Text="0" FontSize="9" Foreground="{StaticResource MonitoringTextSecondaryBrush}" Margin="0,30,0,0"/>
                                    </StackPanel>

                                    <!-- Canvas for Chart -->
                                    <Canvas Margin="35,8,8,20" x:Name="TrendChartCanvas">
                                        <!-- Grid Lines -->
                                        <Line X1="0" Y1="0" X2="500" Y2="0" Stroke="{StaticResource MonitoringBorderBrush}" StrokeThickness="0.5" StrokeDashArray="2,2" Opacity="0.3"/>
                                        <Line X1="0" Y1="45" X2="500" Y2="45" Stroke="{StaticResource MonitoringBorderBrush}" StrokeThickness="0.5" StrokeDashArray="2,2" Opacity="0.3"/>
                                        <Line X1="0" Y1="90" X2="500" Y2="90" Stroke="{StaticResource MonitoringBorderBrush}" StrokeThickness="0.5" StrokeDashArray="2,2" Opacity="0.3"/>
                                        <Line X1="0" Y1="135" X2="500" Y2="135" Stroke="{StaticResource MonitoringBorderBrush}" StrokeThickness="0.5" StrokeDashArray="2,2" Opacity="0.3"/>
                                        <Line X1="0" Y1="180" X2="500" Y2="180" Stroke="{StaticResource MonitoringBorderBrush}" StrokeThickness="0.5" StrokeDashArray="2,2" Opacity="0.3"/>

                                        <!-- Warning Threshold Line -->
                                        <Line X1="0" Y1="60" X2="500" Y2="60" Stroke="#EAB308" StrokeThickness="1.5" StrokeDashArray="4,2" Opacity="0.6"/>
                                        <TextBlock Text="NgÆ°á»¡ng cáº£nh bÃ¡o" Canvas.Left="410" Canvas.Top="52" FontSize="8" Foreground="#EAB308" Opacity="0.8"/>

                                        <!-- Critical Threshold Line -->
                                        <Line X1="0" Y1="30" X2="500" Y2="30" Stroke="#EF4444" StrokeThickness="1.5" StrokeDashArray="4,2" Opacity="0.6"/>
                                        <TextBlock Text="NgÆ°á»¡ng nghiÃªm trá»ng" Canvas.Left="390" Canvas.Top="22" FontSize="8" Foreground="#EF4444" Opacity="0.8"/>

                                        <!-- Total Alerts Line (Blue) -->
                                        <Polyline Points="0,120 25,110 50,100 75,105 100,95 125,85 150,80 175,90 200,85 225,75 250,70 275,80 300,75" 
                                                  Stroke="{StaticResource MonitoringAccentButtonBrush}" 
                                                  StrokeThickness="2.5" 
                                                  StrokeLineJoin="Round"/>                                        <!-- Critical Alerts Area (Red with gradient) -->
                                        <Polygon Points="0,180 25,165 50,155 75,160 100,150 125,145 150,140 175,150 200,145 225,135 250,130 275,140 300,135 300,180"
                                                 Fill="#40EF4444"
                                                 Stroke="#EF4444"
                                                 StrokeThickness="2"
                                                 StrokeLineJoin="Round"/>

                                        <!-- Warning Alerts Line (Orange) -->
                                        <Polyline Points="0,145 25,140 50,135 75,138 100,130 125,125 150,120 175,128 200,125 225,118 250,115 275,122 300,118" 
                                                  Stroke="#F97316" 
                                                  StrokeThickness="2" 
                                                  StrokeLineJoin="Round"/>                                        <!-- Data Points with tooltips (last 3 points) -->
                                        <Ellipse Width="6" Height="6" Fill="{StaticResource MonitoringAccentButtonBrush}" Canvas.Left="297" Canvas.Top="72" ToolTipService.ToolTip="Tá»•ng: 15 cáº£nh bÃ¡o"/>
                                        <Ellipse Width="6" Height="6" Fill="#EF4444" Canvas.Left="297" Canvas.Top="132" ToolTipService.ToolTip="NghiÃªm trá»ng: 5"/>
                                        <Ellipse Width="6" Height="6" Fill="#F97316" Canvas.Left="297" Canvas.Top="115" ToolTipService.ToolTip="Cáº£nh bÃ¡o: 10"/>

                                        <!-- Anomaly Markers -->
                                        <Ellipse Width="10" Height="10" Fill="Transparent" Stroke="#FBBF24" StrokeThickness="2" Canvas.Left="148" Canvas.Top="78" ToolTipService.ToolTip="Sá»± kiá»‡n báº¥t thÆ°á»ng"/>
                                        <Ellipse Width="10" Height="10" Fill="Transparent" Stroke="#FBBF24" StrokeThickness="2" Canvas.Left="248" Canvas.Top="113" ToolTipService.ToolTip="Sá»± kiá»‡n báº¥t thÆ°á»ng"/>
                                    </Canvas>
                                </Grid>

                                <!-- Legend -->
                                <StackPanel Grid.Row="1" Orientation="Horizontal" Spacing="16" HorizontalAlignment="Center" Margin="0,8,0,0">
                                    <StackPanel Orientation="Horizontal" Spacing="6">
                                        <Rectangle Width="16" Height="3" Fill="{StaticResource MonitoringAccentButtonBrush}" VerticalAlignment="Center"/>
                                        <TextBlock Text="Tá»•ng sá»‘" FontSize="10" Foreground="{StaticResource MonitoringTextSecondaryBrush}" VerticalAlignment="Center"/>
                                    </StackPanel>
                                    <StackPanel Orientation="Horizontal" Spacing="6">
                                        <Rectangle Width="16" Height="3" Fill="#EF4444" VerticalAlignment="Center"/>
                                        <TextBlock Text="NghiÃªm trá»ng" FontSize="10" Foreground="{StaticResource MonitoringTextSecondaryBrush}" VerticalAlignment="Center"/>
                                    </StackPanel>
                                    <StackPanel Orientation="Horizontal" Spacing="6">
                                        <Rectangle Width="16" Height="3" Fill="#F97316" VerticalAlignment="Center"/>
                                        <TextBlock Text="Cáº£nh bÃ¡o" FontSize="10" Foreground="{StaticResource MonitoringTextSecondaryBrush}" VerticalAlignment="Center"/>
                                    </StackPanel>
                                </StackPanel>
                            </Grid>
                        </Border>
                    </Grid>

                    <!-- Spacer -->
                    <Border Grid.Row="1"/>

                    <!-- Relay Stations Section -->
                    <Grid Grid.Row="2">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Header -->
                        <Grid Grid.Row="0" Margin="0,12,0,12">
                            <Border Height="1" Background="{StaticResource MonitoringBorderBrush}" VerticalAlignment="Center"/>
                            <Border Background="{StaticResource MonitoringPanelBackgroundBrush}"
                                    Padding="12,0"
                                    HorizontalAlignment="Center">
                                <TextBlock Text="Tráº¡m trung chuyá»ƒn"
                                           FontSize="14"
                                           FontWeight="SemiBold"
                                           Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                            </Border>
                        </Grid>

                        <!-- Relay Stations List -->
                        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" MaxHeight="300">
                            <StackPanel Spacing="12" x:Name="RelayStationsPanel">

                                <!-- Relay A -->
                                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                        CornerRadius="8"
                                        Padding="12"
                                        BorderBrush="{StaticResource MonitoringBorderBrush}"
                                        BorderThickness="1"
                                        PointerEntered="RelayCard_PointerEntered"
                                        PointerExited="RelayCard_PointerExited"
                                        PointerPressed="RelayCard_PointerPressed"
                                        Tag="RELAY_A">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <!-- Station Name & Status -->
                                        <Grid Grid.Row="0" Margin="0,0,0,8">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="8">
                                                <TextBlock Text="ðŸ“¡" FontSize="18"/>
                                                <TextBlock Text="Khu vá»±c A"
                                                           FontSize="14"
                                                           FontWeight="SemiBold"
                                                           Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                                            </StackPanel>

                                            <Border Grid.Column="1"
                                                    Background="#22C55E20"
                                                    CornerRadius="10"
                                                    Padding="6,2">
                                                <TextBlock Text="Online"
                                                           FontSize="10"
                                                           Foreground="#22C55E"/>
                                            </Border>
                                        </Grid>

                                        <!-- Sensor Count -->
                                        <TextBlock Grid.Row="1"
                                                   Text="6 cáº£m biáº¿n káº¿t ná»‘i"
                                                   FontSize="12"
                                                   Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                                   Margin="0,0,0,4"/>

                                        <!-- Last Update -->
                                        <TextBlock Grid.Row="2"
                                                   Text="Cáº­p nháº­t: 2 phÃºt trÆ°á»›c"
                                                   FontSize="10"
                                                   Foreground="{StaticResource MonitoringTextSecondaryBrush}"/>
                                    </Grid>
                                </Border>

                                <!-- Relay B -->
                                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                        CornerRadius="8"
                                        Padding="12"
                                        BorderBrush="{StaticResource MonitoringBorderBrush}"
                                        BorderThickness="1"
                                        PointerEntered="RelayCard_PointerEntered"
                                        PointerExited="RelayCard_PointerExited"
                                        PointerPressed="RelayCard_PointerPressed"
                                        Tag="RELAY_B">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <Grid Grid.Row="0" Margin="0,0,0,8">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="8">
                                                <TextBlock Text="ðŸ“¡" FontSize="18"/>
                                                <TextBlock Text="Khu vá»±c B"
                                                           FontSize="14"
                                                           FontWeight="SemiBold"
                                                           Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                                            </StackPanel>

                                            <Border Grid.Column="1"
                                                    Background="#22C55E20"
                                                    CornerRadius="10"
                                                    Padding="6,2">
                                                <TextBlock Text="Online"
                                                           FontSize="10"
                                                           Foreground="#22C55E"/>
                                            </Border>
                                        </Grid>

                                        <TextBlock Grid.Row="1"
                                                   Text="6 cáº£m biáº¿n káº¿t ná»‘i"
                                                   FontSize="12"
                                                   Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                                   Margin="0,0,0,4"/>

                                        <TextBlock Grid.Row="2"
                                                   Text="Cáº­p nháº­t: 1 phÃºt trÆ°á»›c"
                                                   FontSize="10"
                                                   Foreground="{StaticResource MonitoringTextSecondaryBrush}"/>
                                    </Grid>
                                </Border>

                                <!-- Relay C -->
                                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                        CornerRadius="8"
                                        Padding="12"
                                        BorderBrush="{StaticResource MonitoringBorderBrush}"
                                        BorderThickness="1"
                                        PointerEntered="RelayCard_PointerEntered"
                                        PointerExited="RelayCard_PointerExited"
                                        PointerPressed="RelayCard_PointerPressed"
                                        Tag="RELAY_C">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <Grid Grid.Row="0" Margin="0,0,0,8">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="8">
                                                <TextBlock Text="ðŸ“¡" FontSize="18"/>
                                                <TextBlock Text="Khu vá»±c C"
                                                           FontSize="14"
                                                           FontWeight="SemiBold"
                                                           Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                                            </StackPanel>

                                            <Border Grid.Column="1"
                                                    Background="#22C55E20"
                                                    CornerRadius="10"
                                                    Padding="6,2">
                                                <TextBlock Text="Online"
                                                           FontSize="10"
                                                           Foreground="#22C55E"/>
                                            </Border>
                                        </Grid>

                                        <TextBlock Grid.Row="1"
                                                   Text="6 cáº£m biáº¿n káº¿t ná»‘i"
                                                   FontSize="12"
                                                   Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                                   Margin="0,0,0,4"/>

                                        <TextBlock Grid.Row="2"
                                                   Text="Cáº­p nháº­t: 3 phÃºt trÆ°á»›c"
                                                   FontSize="10"
                                                   Foreground="{StaticResource MonitoringTextSecondaryBrush}"/>
                                    </Grid>
                                </Border>

                            </StackPanel>
                        </ScrollViewer>
                    </Grid>
                </Grid>
            </Border>

            <!-- Center Panel - Security Map -->
            <Border Grid.Column="1"
                    Background="{ThemeResource BackgroundPrimaryBrush}"
                    CornerRadius="8"
                    Padding="16"
                    Margin="0,0,8,0">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0"
                               Text="Báº£n Ä‘á»“ tuyáº¿n cá»‘ng"
                               FontSize="16"
                               FontWeight="SemiBold"
                               Foreground="{StaticResource MonitoringTextPrimaryBrush}"
                               Margin="0,0,0,12"/>

                    <!-- WebView2 for Interactive Map -->
                    <Border Grid.Row="1"
                            CornerRadius="6"
                            Background="{ThemeResource BackgroundPrimaryBrush}"
                            >
                        <controls:WebView2 x:Name="SecurityMapWebView"
                                           DefaultBackgroundColor="Transparent"/>
                    </Border>
                </Grid>
            </Border>

            <!-- Left Panel - Alert Overview -->
            <Grid Grid.Column="0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Alert Overview -->
                <Border Grid.Row="0"
                        Background="{StaticResource MonitoringPanelBackgroundBrush}"
                        CornerRadius="8"
                        Padding="16"
                        Margin="0,0,8,8">
                    <StackPanel Spacing="12">
                        <!-- Header -->
                        <TextBlock Text="PhÃ¢n bá»‘ cáº£nh bÃ¡o"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                        
                        <!-- Time Filter Buttons -->
                        <StackPanel Orientation="Horizontal" Spacing="8" HorizontalAlignment="Center">
                            <Button Content="Day"
                                    x:Name="AlertDayButton"
                                    Click="AlertTimeFilter_Click"
                                    Tag="Day"
                                    Background="{StaticResource MonitoringAccentButtonBrush}"
                                    Foreground="White"
                                    FontSize="11"
                                    Padding="12,4"
                                    CornerRadius="4"
                                    BorderThickness="0"/>
                            <Button Content="Week"
                                    x:Name="AlertWeekButton"
                                    Click="AlertTimeFilter_Click"
                                    Tag="Week"
                                    Background="Transparent"
                                    Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                    FontSize="11"
                                    Padding="12,4"
                                    CornerRadius="4"
                                    BorderBrush="{StaticResource MonitoringBorderBrush}"
                                    BorderThickness="1"/>
                            <Button Content="Month"
                                    x:Name="AlertMonthButton"
                                    Click="AlertTimeFilter_Click"
                                    Tag="Month"
                                    Background="Transparent"
                                    Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                    FontSize="11"
                                    Padding="12,4"
                                    CornerRadius="4"
                                    BorderBrush="{StaticResource MonitoringBorderBrush}"
                                    BorderThickness="1"/>
                        </StackPanel>

                        <!-- LiveCharts Pie Chart (Donut) -->
                        <lvc:PieChart Height="180"
                                      Series="{x:Bind ViewModel.AlertDistributionSeries, Mode=OneWay}"
                                      LegendPosition="Hidden"
                                      InitialRotation="-90"
                                      Background="Transparent"
                                      AnimationsSpeed="00:00:00.4"
                                      TooltipPosition="Top"/>

                        <!-- Custom Legend -->
                        <StackPanel Spacing="6">
                            <Grid>
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <Ellipse Width="8" Height="8" Fill="#22C55E"/>
                                    <TextBlock Text="Tháº¥p" FontSize="12" Foreground="{StaticResource MonitoringTextSecondaryBrush}"/>
                                </StackPanel>
                                <TextBlock Text="{x:Bind ViewModel.IntruAlerts, Mode=OneWay}" FontSize="12" Foreground="{StaticResource MonitoringTextPrimaryBrush}" HorizontalAlignment="Right"/>
                            </Grid>
                            <Grid>
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <Ellipse Width="8" Height="8" Fill="#EAB308"/>
                                    <TextBlock Text="Trung bÃ¬nh" FontSize="12" Foreground="{StaticResource MonitoringTextSecondaryBrush}"/>
                                </StackPanel>
                                <TextBlock Text="{x:Bind ViewModel.MotionAlerts, Mode=OneWay}" FontSize="12" Foreground="{StaticResource MonitoringTextPrimaryBrush}" HorizontalAlignment="Right"/>
                            </Grid>
                            <Grid>
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <Ellipse Width="8" Height="8" Fill="#F97316"/>
                                    <TextBlock Text="Cao" FontSize="12" Foreground="{StaticResource MonitoringTextSecondaryBrush}"/>
                                </StackPanel>
                                <TextBlock Text="{x:Bind ViewModel.FireAlerts, Mode=OneWay}" FontSize="12" Foreground="{StaticResource MonitoringTextPrimaryBrush}" HorizontalAlignment="Right"/>
                            </Grid>
                            <Grid>
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <Ellipse Width="8" Height="8" Fill="#EF4444"/>
                                    <TextBlock Text="NghiÃªm trá»ng" FontSize="12" Foreground="{StaticResource MonitoringTextSecondaryBrush}"/>
                                </StackPanel>
                                <TextBlock Text="{x:Bind ViewModel.SmokeAlerts, Mode=OneWay}" FontSize="12" Foreground="{StaticResource MonitoringTextPrimaryBrush}" HorizontalAlignment="Right"/>
                            </Grid>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Cáº£nh bÃ¡o má»›i nháº¥t -->
                <Border Grid.Row="1"
                        Background="{StaticResource MonitoringPanelBackgroundBrush}"
                        CornerRadius="8"
                        Padding="16"
                        Margin="0,0,8,0">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!-- Header with hamburger menu -->
                        <Grid Grid.Row="0" Margin="0,0,0,12">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="Cáº£nh bÃ¡o má»›i nháº¥t"
                                           FontSize="14"
                                           FontWeight="SemiBold"
                                           Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                            </StackPanel>

                            <Button x:Name="RightPanelAlertMenuButton"
                                    Click="AlertPanelMenuButton_Click"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    Padding="8"
                                    HorizontalAlignment="Right"
                                    ToolTipService.ToolTip="Má»Ÿ cá»­a sá»• cáº£nh bÃ¡o">
                                <FontIcon Glyph="&#xE700;"
                                          FontSize="16"
                                          Foreground="{StaticResource MonitoringTextSecondaryBrush}"/>
                            </Button>
                        </Grid>

                        <!-- Alert List -->
                        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                            <StackPanel Spacing="8">
                                <!-- Critical Alert -->
                                <Border Background="{StaticResource MonitoringBackgroundBrush}"
                                        CornerRadius="6"
                                        Padding="12,8"
                                        BorderBrush="{StaticResource MonitoringTempHighBrush}"
                                        BorderThickness="1">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <Ellipse Grid.Column="0"
                                                 Width="8"
                                                 Height="8"
                                                 Fill="{StaticResource MonitoringTempHighBrush}"
                                                 VerticalAlignment="Center"
                                                 Margin="0,0,8,0"/>

                                        <StackPanel Grid.Column="1">
                                            <TextBlock Text="Nhiá»‡t Ä‘á»™ vÆ°á»£t ngÆ°á»¡ng"
                                                       FontSize="12"
                                                       FontWeight="SemiBold"
                                                       Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                                            <TextBlock Text="SEN-002 â€¢ A1/R1/N2"
                                                       FontSize="10"
                                                       Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                                       Margin="0,2,0,0"/>
                                        </StackPanel>

                                        <TextBlock Grid.Column="2"
                                                   Text="2 phÃºt"
                                                   FontSize="10"
                                                   Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                                   VerticalAlignment="Top"/>
                                    </Grid>
                                </Border>

                                <!-- Warning Alert -->
                                <Border Background="{StaticResource MonitoringBackgroundBrush}"
                                        CornerRadius="6"
                                        Padding="12,8"
                                        BorderBrush="#FF9800"
                                        BorderThickness="1">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <Ellipse Grid.Column="0"
                                                 Width="8"
                                                 Height="8"
                                                 Fill="#FF9800"
                                                 VerticalAlignment="Center"
                                                 Margin="0,0,8,0"/>

                                        <StackPanel Grid.Column="1">
                                            <TextBlock Text="Rung Ä‘á»™ng báº¥t thÆ°á»ng"
                                                       FontSize="12"
                                                       FontWeight="SemiBold"
                                                       Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                                            <TextBlock Text="SEN-001 â€¢ A2/R3/N5"
                                                       FontSize="10"
                                                       Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                                       Margin="0,2,0,0"/>
                                        </StackPanel>

                                        <TextBlock Grid.Column="2"
                                                   Text="5 phÃºt"
                                                   FontSize="10"
                                                   Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                                   VerticalAlignment="Top"/>
                                    </Grid>
                                </Border>

                                <!-- Info Alert -->
                                <Border Background="{StaticResource MonitoringBackgroundBrush}"
                                        CornerRadius="6"
                                        Padding="12,8"
                                        BorderBrush="{StaticResource MonitoringAccentButtonBrush}"
                                        BorderThickness="1">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <Ellipse Grid.Column="0"
                                                 Width="8"
                                                 Height="8"
                                                 Fill="{StaticResource MonitoringAccentButtonBrush}"
                                                 VerticalAlignment="Center"
                                                 Margin="0,0,8,0"/>

                                        <StackPanel Grid.Column="1">
                                            <TextBlock Text="Thiáº¿t bá»‹ offline"
                                                       FontSize="12"
                                                       FontWeight="SemiBold"
                                                       Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                                            <TextBlock Text="RAD-001 â€¢ A2/R4/N7"
                                                       FontSize="10"
                                                       Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                                       Margin="0,2,0,0"/>
                                        </StackPanel>

                                        <TextBlock Grid.Column="2"
                                                   Text="15 phÃºt"
                                                   FontSize="10"
                                                   Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                                   VerticalAlignment="Top"/>
                                    </Grid>
                                </Border>

                                <!-- Normal Alert -->
                                <Border Background="{StaticResource MonitoringBackgroundBrush}"
                                        CornerRadius="6"
                                        Padding="12,8"
                                        BorderBrush="{StaticResource MonitoringNodeNormalBrush}"
                                        BorderThickness="1">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <Ellipse Grid.Column="0"
                                                 Width="8"
                                                 Height="8"
                                                 Fill="{StaticResource MonitoringNodeNormalBrush}"
                                                 VerticalAlignment="Center"
                                                 Margin="0,0,8,0"/>

                                        <StackPanel Grid.Column="1">
                                            <TextBlock Text="ÄÃ£ xá»­ lÃ½ cáº£nh bÃ¡o"
                                                       FontSize="12"
                                                       FontWeight="SemiBold"
                                                       Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                                            <TextBlock Text="CAM-001 â€¢ A1/R1/N1"
                                                       FontSize="10"
                                                       Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                                       Margin="0,2,0,0"/>
                                        </StackPanel>

                                        <TextBlock Grid.Column="2"
                                                   Text="30 phÃºt"
                                                   FontSize="10"
                                                   Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                                   VerticalAlignment="Top"/>
                                    </Grid>
                                </Border>

                                <!-- Camera Issue Alert -->
                                <Border Background="{StaticResource MonitoringBackgroundBrush}"
                                        CornerRadius="6"
                                        Padding="12,8"
                                        BorderBrush="#FF9800"
                                        BorderThickness="1">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <Ellipse Grid.Column="0"
                                                 Width="8"
                                                 Height="8"
                                                 Fill="#FF9800"
                                                 VerticalAlignment="Center"
                                                 Margin="0,0,8,0"/>

                                        <StackPanel Grid.Column="1">
                                            <TextBlock Text="Camera máº¥t káº¿t ná»‘i"
                                                       FontSize="12"
                                                       FontWeight="SemiBold"
                                                       Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                                            <TextBlock Text="CAM-004 â€¢ A2/R3/N6"
                                                       FontSize="10"
                                                       Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                                       Margin="0,2,0,0"/>
                                        </StackPanel>

                                        <TextBlock Grid.Column="2"
                                                   Text="1 giá»"
                                                   FontSize="10"
                                                   Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                                   VerticalAlignment="Top"/>
                                    </Grid>
                                </Border>

                                <!-- Humidity Alert -->
                                <Border Background="{StaticResource MonitoringBackgroundBrush}"
                                        CornerRadius="6"
                                        Padding="12,8"
                                        BorderBrush="{StaticResource MonitoringAccentButtonBrush}"
                                        BorderThickness="1">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <Ellipse Grid.Column="0"
                                                 Width="8"
                                                 Height="8"
                                                 Fill="{StaticResource MonitoringAccentButtonBrush}"
                                                 VerticalAlignment="Center"
                                                 Margin="0,0,8,0"/>

                                        <StackPanel Grid.Column="1">
                                            <TextBlock Text="Äá»™ áº©m cao"
                                                       FontSize="12"
                                                       FontWeight="SemiBold"
                                                       Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                                            <TextBlock Text="SEN-003 â€¢ A1/R2/N4"
                                                       FontSize="10"
                                                       Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                                       Margin="0,2,0,0"/>
                                        </StackPanel>

                                        <TextBlock Grid.Column="2"
                                                   Text="2 giá»"
                                                   FontSize="10"
                                                   Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                                   VerticalAlignment="Top"/>
                                    </Grid>
                                </Border>
                            </StackPanel>
                        </ScrollViewer>
                    </Grid>
                </Border>
            </Grid>
        </Grid>

        <!-- Bottom Section - Sensor Trends, Real-time Alerts, System Data -->
        <Grid Grid.Row="2" Margin="0,16,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Trend Analysis - Sensor Data Chart -->
            <Border Grid.Column="0"
                    Background="{StaticResource MonitoringPanelBackgroundBrush}"
                    CornerRadius="8"
                    Padding="16"
                    Margin="0,0,8,0"
                    Height="220">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Header with hamburger menu -->
                    <Grid Grid.Row="0" Margin="0,0,0,12">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="Xu hÆ°á»›ng"
                                       FontSize="14"
                                       FontWeight="SemiBold"
                                       Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                        </StackPanel>

                        <Button x:Name="DataPanelMenuButton"
                                Click="DataPanelMenuButton_Click"
                                Background="Transparent"
                                BorderThickness="0"
                                Padding="8"
                                HorizontalAlignment="Right"
                                ToolTipService.ToolTip="Má»Ÿ cá»­a sá»• dá»¯ liá»‡u">
                            <FontIcon Glyph="&#xE700;"
                                      FontSize="16"
                                      Foreground="{StaticResource MonitoringTextSecondaryBrush}"/>
                        </Button>
                    </Grid>

                    <!-- Sensor Trend Chart -->
                    <Grid Grid.Row="1">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <StackPanel Spacing="12">
                                <!-- Temperature Trend -->
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Grid.Column="0" Width="100">
                                        <TextBlock Text="Nhiá»‡t Ä‘á»™"
                                                   FontSize="11"
                                                   Foreground="{StaticResource MonitoringTextSecondaryBrush}"/>
                                        <TextBlock FontSize="16"
                                                   FontWeight="Bold"
                                                   Foreground="{StaticResource MonitoringTextPrimaryBrush}">
                                            <Run Text="{x:Bind ViewModel.AverageTemperature, Mode=OneWay, Converter={StaticResource StringFormatConverter}, ConverterParameter='{}{0:F1}'}"/>
                                            <Run Text="Â°C" FontSize="12"/>
                                        </TextBlock>
                                    </StackPanel>

                                    <Canvas Grid.Column="1" Height="40" Margin="8,0">
                                        <!-- Temperature line chart -->
                                        <Polyline Points="0,30 20,25 40,28 60,22 80,20 100,25 120,23 140,18 160,15"
                                                  Stroke="#FF9800"
                                                  StrokeThickness="2"
                                                  StrokeLineJoin="Round"/>
                                        <Ellipse Width="6" Height="6" Fill="#FF9800" Canvas.Left="157" Canvas.Top="12"/>
                                    </Canvas>

                                    <TextBlock Grid.Column="2"
                                               Text="â–¼ 2.3Â°C"
                                               FontSize="11"
                                               Foreground="#FF9800"
                                               VerticalAlignment="Center"/>
                                </Grid>

                                <!-- Humidity Trend -->
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Grid.Column="0" Width="100">
                                        <TextBlock Text="Äá»™ áº©m"
                                                   FontSize="11"
                                                   Foreground="{StaticResource MonitoringTextSecondaryBrush}"/>
                                        <TextBlock Text="66%"
                                                   FontSize="16"
                                                   FontWeight="Bold"
                                                   Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                                    </StackPanel>

                                    <Canvas Grid.Column="1" Height="40" Margin="8,0">
                                        <Polyline Points="0,20 20,22 40,18 60,25 80,23 100,20 120,24 140,22 160,25"
                                                  Stroke="{StaticResource MonitoringAccentButtonBrush}"
                                                  StrokeThickness="2"
                                                  StrokeLineJoin="Round"/>
                                        <Ellipse Width="6" Height="6" Fill="{StaticResource MonitoringAccentButtonBrush}" Canvas.Left="157" Canvas.Top="22"/>
                                    </Canvas>

                                    <TextBlock Grid.Column="2"
                                               Text="â–² 4%"
                                               FontSize="11"
                                               Foreground="{StaticResource MonitoringAccentButtonBrush}"
                                               VerticalAlignment="Center"/>
                                </Grid>

                                <!-- Vibration Trend -->
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Grid.Column="0" Width="100">
                                        <TextBlock Text="Chuyá»ƒn Ä‘á»™ng"
                                                   FontSize="11"
                                                   Foreground="{StaticResource MonitoringTextSecondaryBrush}"/>
                                        <TextBlock Text="2.5 mm/s"
                                                   FontSize="16"
                                                   FontWeight="Bold"
                                                   Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                                    </StackPanel>

                                    <Canvas Grid.Column="1" Height="40" Margin="8,0">
                                        <Polyline Points="0,25 20,28 40,23 60,26 80,22 100,25 120,20 140,24 160,21"
                                                  Stroke="{StaticResource MonitoringNodeNormalBrush}"
                                                  StrokeThickness="2"
                                                  StrokeLineJoin="Round"/>
                                        <Ellipse Width="6" Height="6" Fill="{StaticResource MonitoringNodeNormalBrush}" Canvas.Left="157" Canvas.Top="18"/>
                                    </Canvas>

                                    <TextBlock Grid.Column="2"
                                               Text="â–¼ 0.3"
                                               FontSize="11"
                                               Foreground="{StaticResource MonitoringNodeNormalBrush}"
                                               VerticalAlignment="Center"/>
                                </Grid>
                            </StackPanel>
                        </ScrollViewer>
                    </Grid>
                </Grid>
            </Border>

            <!-- Camera Rotation Panel -->
            <Border Grid.Column="1"
                    Background="{StaticResource MonitoringPanelBackgroundBrush}"
                    CornerRadius="8"
                    Padding="16"
                    Margin="0,0,8,0"
                    Height="220">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Header -->
                    <Grid Grid.Row="0" Margin="0,0,0,12">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <FontIcon Glyph="&#xE714;"
                                      FontSize="14"
                                      Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                            <TextBlock Text="Camera giÃ¡m sÃ¡t"
                                       FontSize="14"
                                       FontWeight="SemiBold"
                                       Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                        </StackPanel>

                        <Button x:Name="CameraPauseButton"
                                Click="CameraPauseButton_Click"
                                Background="Transparent"
                                BorderThickness="0"
                                Padding="6"
                                HorizontalAlignment="Right"
                                ToolTipService.ToolTip="Táº¡m dá»«ng">
                            <FontIcon x:Name="CameraPauseIcon"
                                      Glyph="&#xE769;"
                                      FontSize="12"
                                      Foreground="{StaticResource MonitoringTextSecondaryBrush}"/>
                        </Button>
                    </Grid>

                    <!-- Camera Display -->
                    <Border Grid.Row="1"
                            Background="#1A1A1A"
                            CornerRadius="6">
                        <Grid>
                            <!-- Camera Feed -->
                            <Image x:Name="CurrentCameraImage"
                                   Stretch="UniformToFill"/>

                            <!-- Alert Overlay -->
                            <Border x:Name="AlertOverlay"
                                    Background="#40EF4444"
                                    Visibility="Collapsed"
                                    BorderBrush="#EF4444"
                                    BorderThickness="2"
                                    CornerRadius="6">
                                <Grid VerticalAlignment="Top"
                                      Background="#DCEF4444"
                                      Padding="8,4">
                                    <StackPanel Orientation="Horizontal" Spacing="6">
                                        <FontIcon Glyph="&#xE7BA;"
                                                  FontSize="12"
                                                  Foreground="White"/>
                                        <TextBlock x:Name="AlertMessageText"
                                                   Text="âš ï¸ PHÃT HIá»†N Báº¤T THÆ¯á»œNG"
                                                   FontSize="11"
                                                   FontWeight="Bold"
                                                   Foreground="White"/>
                                    </StackPanel>
                                </Grid>
                            </Border>

                            <!-- Camera Info Overlay -->
                            <Grid VerticalAlignment="Top"
                                  HorizontalAlignment="Stretch"
                                  Background="#B0000000"
                                  Padding="8,6">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <TextBlock x:Name="CurrentCameraName"
                                           Grid.Column="0"
                                           Text="CAM 01"
                                           FontSize="12"
                                           FontWeight="SemiBold"
                                           Foreground="White"/>

                                <Border Grid.Column="1"
                                        x:Name="CurrentCameraStatusBadge"
                                        Background="#22C55E"
                                        CornerRadius="8"
                                        Padding="6,2">
                                    <TextBlock x:Name="CurrentCameraStatus"
                                               Text="Online"
                                               FontSize="9"
                                               Foreground="White"
                                               FontWeight="SemiBold"/>
                                </Border>
                            </Grid>

                            <!-- Time & Recording -->
                            <Grid VerticalAlignment="Bottom">
                                <Border HorizontalAlignment="Left"
                                        Background="#B0000000"
                                        Padding="6,3"
                                        Margin="8,8">
                                    <TextBlock x:Name="CurrentCameraTime"
                                               Text="09:20:25"
                                               FontSize="9"
                                               Foreground="White"/>
                                </Border>

                                <Border HorizontalAlignment="Right"
                                        Background="#B0000000"
                                        Padding="6,3"
                                        Margin="8,8"
                                        x:Name="RecordingIndicator">
                                    <StackPanel Orientation="Horizontal" Spacing="4">
                                        <Ellipse Width="6" Height="6" Fill="#EF4444"/>
                                        <TextBlock Text="REC"
                                                   FontSize="9"
                                                   FontWeight="Bold"
                                                   Foreground="White"/>
                                    </StackPanel>
                                </Border>
                            </Grid>

                            <!-- No Signal Overlay -->
                            <Grid x:Name="NoSignalOverlay"
                                  Background="#80000000"
                                  Visibility="Collapsed">
                                <StackPanel HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Spacing="8">
                                    <FontIcon Glyph="&#xE711;"
                                              FontSize="32"
                                              Foreground="#94A3B8"/>
                                    <TextBlock Text="KhÃ´ng cÃ³ tÃ­n hiá»‡u"
                                               FontSize="11"
                                               Foreground="White"
                                               HorizontalAlignment="Center"/>
                                </StackPanel>
                            </Grid>
                        </Grid>
                    </Border>

                    <!-- Camera Info & Controls -->
                    <Grid Grid.Row="2" Margin="0,8,0,0">
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <FontIcon Glyph="&#xE895;"
                                      FontSize="10"
                                      Foreground="{StaticResource MonitoringTextSecondaryBrush}"/>
                            <TextBlock x:Name="CameraRotationInfo"
                                       Text="Tá»± Ä‘á»™ng: 10s"
                                       FontSize="10"
                                       Foreground="{StaticResource MonitoringTextSecondaryBrush}"/>
                        </StackPanel>

                        <TextBlock x:Name="NextCameraInfo"
                                   Text="Tiáº¿p: CAM 02 (8s)"
                                   FontSize="10"
                                   Foreground="{StaticResource MonitoringAccentButtonBrush}"
                                   HorizontalAlignment="Right"/>
                    </Grid>
                </Grid>
            </Border>

            <!-- Device Status Panel -->
            <Border Grid.Column="2"
                    Background="{StaticResource MonitoringPanelBackgroundBrush}"
                    CornerRadius="8"
                    Padding="16"
                    Height="220">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Header with hamburger menu -->
                    <Grid Grid.Row="0" Margin="0,0,0,12">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="Tráº¡ng thÃ¡i há»‡ thá»‘ng"
                                       FontSize="14"
                                       FontWeight="SemiBold"
                                       Foreground="{StaticResource MonitoringTextPrimaryBrush}"/>
                        </StackPanel>

                        <Button x:Name="DevicePanelMenuButton"
                                Click="DevicePanelMenuButton_Click"
                                Background="Transparent"
                                BorderThickness="0"
                                Padding="8"
                                HorizontalAlignment="Right"
                                ToolTipService.ToolTip="Má»Ÿ cá»­a sá»• thiáº¿t bá»‹">
                            <FontIcon Glyph="&#xE700;"
                                      FontSize="16"
                                      Foreground="{StaticResource MonitoringTextSecondaryBrush}"/>
                        </Button>
                    </Grid>

                    <!-- Device Stats -->
                    <Grid Grid.Row="1">
                        <StackPanel Spacing="16">
                            <!-- Top Stats Row - 4 columns -->
                            <Grid Margin="0,0,0,8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <!-- Lines -->
                                <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                                    <TextBlock Text="4"
                                               FontSize="32"
                                               FontWeight="Bold"
                                               Foreground="{StaticResource MonitoringTextPrimaryBrush}"
                                               HorizontalAlignment="Center"/>
                                    <TextBlock Text="Tuyáº¿n"
                                               FontSize="11"
                                               Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                               HorizontalAlignment="Center"/>
                                </StackPanel>

                                <!-- Healthy -->
                                <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                                    <TextBlock Text="45"
                                               FontSize="32"
                                               FontWeight="Bold"
                                               Foreground="{StaticResource MonitoringTextPrimaryBrush}"
                                               HorizontalAlignment="Center"/>
                                    <TextBlock Text="Tá»‘t"
                                               FontSize="11"
                                               Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                               HorizontalAlignment="Center"/>
                                </StackPanel>

                                <!-- Faulty -->
                                <StackPanel Grid.Column="2" HorizontalAlignment="Center">
                                    <TextBlock Text="39"
                                               FontSize="32"
                                               FontWeight="Bold"
                                               Foreground="{StaticResource MonitoringTextPrimaryBrush}"
                                               HorizontalAlignment="Center"/>
                                    <TextBlock Text="Lá»—i"
                                               FontSize="11"
                                               Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                               HorizontalAlignment="Center"/>
                                </StackPanel>

                                <!-- Active -->
                                <StackPanel Grid.Column="3" HorizontalAlignment="Center">
                                    <TextBlock Text="6"
                                               FontSize="32"
                                               FontWeight="Bold"
                                               Foreground="{StaticResource MonitoringTextPrimaryBrush}"
                                               HorizontalAlignment="Center"/>
                                    <TextBlock Text="Hoáº¡t Ä‘á»™ng"
                                               FontSize="11"
                                               Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                               HorizontalAlignment="Center"/>
                                </StackPanel>
                            </Grid>

                            <!-- Device Type Breakdown -->
                            <StackPanel Spacing="8">
                                <!-- Cameras -->
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <FontIcon Grid.Column="0"
                                              Glyph="&#xE714;"
                                              FontSize="14"
                                              Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                              Margin="0,0,8,0"/>

                                    <TextBlock Grid.Column="1"
                                               Text="Cameras"
                                               FontSize="12"
                                               Foreground="{StaticResource MonitoringTextPrimaryBrush}"
                                               VerticalAlignment="Center"/>

                                    <TextBlock Grid.Column="2"
                                               Text="3 / 4"
                                               FontSize="12"
                                               FontWeight="SemiBold"
                                               Foreground="{StaticResource MonitoringNodeNormalBrush}"/>
                                </Grid>

                                <!-- Sensors -->
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <FontIcon Grid.Column="0"
                                              Glyph="&#xE957;"
                                              FontSize="14"
                                              Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                              Margin="0,0,8,0"/>

                                    <TextBlock Grid.Column="1"
                                               Text="Sensors"
                                               FontSize="12"
                                               Foreground="{StaticResource MonitoringTextPrimaryBrush}"
                                               VerticalAlignment="Center"/>

                                    <TextBlock Grid.Column="2"
                                               Text="2 / 3"
                                               FontSize="12"
                                               FontWeight="SemiBold"
                                               Foreground="#FF9800"/>
                                </Grid>

                                <!-- Radars -->
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <FontIcon Grid.Column="0"
                                              Glyph="&#xE701;"
                                              FontSize="14"
                                              Foreground="{StaticResource MonitoringTextSecondaryBrush}"
                                              Margin="0,0,8,0"/>

                                    <TextBlock Grid.Column="1"
                                               Text="Radars"
                                               FontSize="12"
                                               Foreground="{StaticResource MonitoringTextPrimaryBrush}"
                                               VerticalAlignment="Center"/>

                                    <TextBlock Grid.Column="2"
                                               Text="0 / 1"
                                               FontSize="12"
                                               FontWeight="SemiBold"
                                               Foreground="{StaticResource MonitoringTempHighBrush}"/>
                                </Grid>
                            </StackPanel>

                            <!-- System Health Bar -->
                            <Border Background="{StaticResource MonitoringBackgroundBrush}"
                                    CornerRadius="6"
                                    Padding="12,8">
                                <StackPanel Spacing="6">
                                    <Grid>
                                        <TextBlock Text="System Health"
                                                   FontSize="11"
                                                   Foreground="{StaticResource MonitoringTextSecondaryBrush}"/>
                                        <TextBlock Text="75%"
                                                   FontSize="11"
                                                   FontWeight="SemiBold"
                                                   Foreground="{StaticResource MonitoringNodeNormalBrush}"
                                                   HorizontalAlignment="Right"/>
                                    </Grid>
                                    <ProgressBar Value="75"
                                                 Maximum="100"
                                                 Height="6"
                                                 Foreground="{StaticResource MonitoringNodeNormalBrush}"
                                                 Background="#1F2429"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Grid>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</Page>
